{% extends "base.html" %}
{% block content %}

<div class="page-header container">
  <h1>My Lists</h1>
  <p>Organize your movies into custom collections.</p>
</div>

<div class="container">
  {% if lists %}
  <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:var(--sp-lg)">
    {% for l in lists %}
    <div class="list-card">
      <h3>{{ l.name }}</h3>
      <p class="list-meta">{{ l.movies|length }} movie{{ 's' if l.movies|length != 1 else '' }} {% if l.is_public %}· Public{% else %}· Private{% endif %}</p>
      {% if l.description %}
      <p style="font-size:var(--fs-sm);color:var(--text2);margin-bottom:var(--sp-md)">{{ l.description }}</p>
      {% endif %}
      {% if l.movies %}
      <div class="list-preview">
        {% for movie in l.movies[:4] %}
        {% if movie.poster_path %}
        <img src="https://image.tmdb.org/t/p/w92{{ movie.poster_path }}" alt="{{ movie.title }}">
        {% endif %}
        {% endfor %}
      </div>
      {% endif %}
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="empty-state">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"/></svg>
    <h2>No lists yet</h2>
    <p>Create custom lists to organize your favorite movies by theme, mood, or any category you like.</p>
    <a href="{{ url_for('main.discover') }}" class="btn btn-accent">Browse Movies</a>
  </div>
  {% endif %}
</div>

{% endblock %}
