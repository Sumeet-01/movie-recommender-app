{% extends 'base.html' %}

{% block content %}
<section class="page-hero">
  <div class="page-hero-inner">
    <h1 class="page-hero-title animate-fade-up">ðŸ”– My Watchlist</h1>
    <p class="page-hero-subtitle animate-fade-up" style="animation-delay:.1s;">Movies you want to watch</p>
  </div>
</section>

<div class="container" style="padding: 32px 5%;">
  {% if movies %}
  <p style="color:var(--text-muted); margin-bottom:24px;">{{ movies|length }} movie{{ 's' if movies|length != 1 else '' }} in your watchlist</p>
  <div class="movie-grid stagger">
    {% for m in movies %}
    <div class="movie-card animate-fade-up" style="position:relative;">
      <a href="{{ url_for('main.movie_details', tmdb_id=m.id) }}">
        {% if m.poster_url %}
        <img src="{{ m.poster_url }}" alt="{{ m.title }}" loading="lazy">
        {% else %}
        <div class="no-poster">ðŸŽ¬</div>
        {% endif %}
        {% if m.vote_average %}
        <div class="card-rating">â˜… {{ '%.1f'|format(m.vote_average) }}</div>
        {% endif %}
        <div class="card-info">
          <h4 class="card-title">{{ m.title }}</h4>
          <span class="card-year">{{ m.release_date[:4] if m.release_date else '' }}</span>
        </div>
      </a>
      <button class="watchlist-remove-btn" onclick="removeFromWatchlist({{ m.id }}, this)" title="Remove from watchlist">âœ•</button>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="empty-state">
    <div class="empty-icon">ðŸ”–</div>
    <h3>Your Watchlist is Empty</h3>
    <p>Start adding movies you want to watch!</p>
    <a href="{{ url_for('main.discover') }}" class="btn btn-primary">Discover Movies</a>
  </div>
  {% endif %}
</div>
{% endblock %}
